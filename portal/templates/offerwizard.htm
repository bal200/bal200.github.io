
<div class="ui main text container">
  <h1 class="ui header">Your Offer</h1>

  <div class="ui six top attached steps" style="margin-bottom: 0px;">
    <div class="step" ng-class="{ 'active': page==1 }">
      <div class="content">
        <div class="title">Offer</div>
      </div>
    </div>
    <div class="step" ng-class="{ 'active': page==2 }">
      <div class="content">
        <div class="title">Details</div>
      </div>
    </div>
    <div class="step" ng-class="{ 'active': page==3 }">
      <div class="content">
        <div class="title">Photo</div>
      </div>
    </div>
    <div class="step" ng-class="{ 'active': page==4 }">
      <div class="content">
        <div class="title">Preview</div>
      </div>
    </div>
    <div class="step" ng-class="{ 'active': page==5 }">
      <div class="content">
        <div class="title">Date</div>
      </div>
    </div>
    <div class="step" ng-class="{ 'active': page==6 }">
        <div class="content">
          <div class="title">Publish</div>
        </div>
      </div>
  </div>


  <div class="ui attached very segment wizard" ng-if="page==1">
    <div class="ui padded">
      <p>Think of a great catchy line about your offer.</p>
    </div>
    <form class="ui form">
      <div class="field">
        <input type="text" name="title" ng-model="card.title" placeholder="Title">
      </div>
    </form>
  </div>

  <div class="ui attached very segment wizard" ng-if="page==2">
    <div class="ui padded">
      <p>Let people know the conditions of your deal and the price.</p>
    </div>
    <form class="ui form">
      <div class="field">
        <textarea name="details" ng-model="card.campaign.message" placeholder="Offer Details"/>
      </div>
    </form>
  </div>
  
  <div class="ui attached very segment wizard" ng-if="page==3">
    <div class="ui padded">
      <p>Excite your customers with an eye catching photo of your product offer.</p>
    </div>
    <form class="ui form">
      <div class="field">
        <input name="mypic" type="file" ng-model="data.pic" ng-change="base64Change()" 
               placeholder="" maxsize="5000" 
               accept="image/*" do-not-parse-if-oversize base-sixty-four-input >
                  
      </div>
      <div ng-if="card.campaign.picture" class="field text-center">
        <img src="{{card.campaign.picture}}" style="margin:auto; width:40%" alt="">
        <!-- <img ng-show="card.templateVariables[4].value.filename" width="100%" src="data:{{card.templateVariables[4].value.filetype + ';base64,' + card.templateVariables[4].value.base64}}" /> -->

      </div>
    </form>
  </div>

  <div class="ui attached very segment wizard" ng-if="page==4">
    <div class="ui padded">
      <p>We'll send out an offer card to your customers that looks like this. Like what you see?</p>
    </div>
    <form class="ui form">
      <div class="field"> 
        <cardpreview card="card" html="card.html" mywidth="360" myheight="280">
        </cardpreview> 
      </div>
    </form>
  </div>

  <div class="ui attached very segment wizard" ng-if="page==5">
    <div class="ui padded">
      <p>What date should your offer be sent out to customer?</p>
      <p>We send out a notification to everyones phones at 8am on the selected date.</p>
    </div>
    <form class="ui form">
      <div class="field">
          <ng-datepicker class="ui input " ng-model="card.campaign.startDate" ng-change="fromDateChange()" placeholder="Date From">
          </ng-datepicker>
      </div>
      <div class="field">
          <ng-datepicker class="ui input fluid" ng-model="card.campaign.endDate" ng-change="toDateChange()" placeholder="Date To">
          </ng-datepicker>
      </div>
    </form>
  </div>

  <div class="ui attached very segment wizard" ng-if="page==6">
    <div class="ui padded">
      <p>Do you like what you see?</p>
    </div>
    <form class="ui form">
      <div class="field">
          <cardpreview card="card" html="card.html" mywidth="360" myheight="280">
          </cardpreview> 
      </div>
    </form>
  </div>

  <div class="ui bottom attached segment">
  </div>

  <button ng-if="page!=6" class="ui left labeled floated icon negative button" ng-click="cancelEdit()">
      <i class="window close outline icon"></i>
      Cancel
    </button>
  <button ng-if="page==6" class="ui right floated primary button" ng-click="finished()">
      <!-- <i class="left arrow icon"></i> -->
      Finish
  </button>
  <button ng-if="page!=6" class="ui right labeled right floated icon positive button" ng-click="pageNext()">
    <i class="right arrow icon"></i>
    Next
  </button>
  <button class="ui right floated labeled icon primary button" ng-click="pageBack()">
    <i class="left arrow icon"></i>
    Back
  </button>
</div>